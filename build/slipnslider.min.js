!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=(function(){function e(e){this.value=e}function t(t){function n(r,o){try{var s=t[r](o),a=s.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):i(s.done?"return":"normal",s.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?n(r.key,r.arg):o=null}var r,o;this._invoke=function(e,t){return new Promise(function(i,s){var a={key:e,arg:t,resolve:i,reject:s,next:null};o?o=o.next=a:(r=o=a,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}());module.exports=function(n){var i={isEnabled:!1,optionableProperties:{isInfinite:!1,hasDotNav:!0,hasControls:!0,navContainer:n,dotsContainer:n,navText:["prev","next"],slideElement:"div",stageElement:"div",slidePadding:10,slidesPerPage:1,prevNavigationCallback:function(e){},nextNavigationCallback:function(e){},dotClickCallback:function(e,t){},responsive:{}},breakpoints:[],currentBreakpoint:0,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},slider:n,total:0,slideWidth:0,dotsCount:0,slideBy:0,activeSlideIndex:0,activeDotIndex:0,pressStart:"",pressEnd:"",pressMove:"",isTransitioning:!1,dotIsActive:"slipnslider__active",transitionEndPrefix:"",transitionPrefix:"",transformPrefix:"",curYPos:0,startpoint:0,isDragging:!1,dragThreshold:30,brokeHorizontalThreshold:!1,wasDragged:!1,isMobileDevice:!1,isAndroid:!1},r=function(){i.options=i.options||{};for(var t in i.optionableProperties)i.optionableProperties.hasOwnProperty(t)&&(void 0!==i.optionableProperties[t]&&e(i.optionableProperties[t])===e(i.options[t])?i[t]=i.options[t]:i[t]=i.optionableProperties[t])},o=function(){var e=window.innerWidth;for(var t in i.responsive)i.responsive.hasOwnProperty(t)&&(t=+t,i.breakpoints.push(t),t<e&&(i.currentBreakpoint=t));0!==i.breakpoints.length&&s()},s=function(){for(var t in i.responsive[i.currentBreakpoint])e(i.responsive[i.currentBreakpoint][t])===e(i[t])&&(i[t]=i.responsive[i.currentBreakpoint][t])},a=function(){if(i.isInfiniteOverride){for(var e=i.slidesPerPage+1,t=0;t<e;t++){var n=i.slides[t].cloneNode(!0);i.stage.appendChild(n)}for(var r=i.total-1,o=r;o>r-e;o--){var s=i.slides[r].cloneNode(!0);i.stage.insertBefore(s,i.slides[0])}if(i.total=i.slides.length,i.activeSlideIndex=i.slidesPerPage+1,i.slidesPerPage>1)for(var a=0,d=i.slidesPerPage-1;a<d;a++)i.dotNav.appendChild(document.createElement("li")),i.dotsCount++;i.navDots=i.dotNav.children,i.dotsCount=i.navDots.length}},d=function(){var e=document.createElement(i.stageElement);e.className="slipnslider__stage",i.slides=i.slider.children,i.total=i.slides.length;for(var t=0;t<i.total;t++)e.appendChild(i.slides[0]);i.slider.appendChild(e),i.stage=i.slider.children[0],i.slides=i.stage.children},l=function(){if(i.slidesPerPage>i.total&&(i.slidesPerPage=i.total),i.dotsCount=i.total-(i.slidesPerPage-1),i.dotsCount<=1)return i.hasDotNavOverride=!1,i.hasControlsOverride=!1,void(i.isInfiniteOverride=!1);i.hasDotNavOverride=i.hasDotNav,i.hasControlsOverride=i.hasControls,i.isInfiniteOverride=i.isInfinite},v=function(){var e=O(i.dotsContainer);i.dotNav=document.createElement("ul"),i.dotNav.className="slipnslider__dot-nav";for(var t=0;t<i.dotsCount;t++)i.dotNav.appendChild(document.createElement("li"));i.navDots=i.dotNav.querySelectorAll("li"),i.activeDot=i.navDots[i.activeSlideIndex],i.activeDot.className=i.dotIsActive,e.appendChild(i.dotNav);var n=i.hasDotNavOverride?"":"none";i.dotNav.style.display=n},c=function(){if(!i.hasControlsOverride||1===i.total)return i;var e=O(i.navContainer),n=t(i.navText,2),r=n[0],o=n[1],s=document.createElement("div");s.className="slipnslider__controls",i.prevBtn=document.createElement("button"),i.prevBtn.className="slipnslider__prev",i.prevBtn.type="button",i.prevBtn.innerHTML=0===r.length?'<span class="is-visually-hidden">previous</span>':r,i.nextBtn=document.createElement("button"),i.nextBtn.className="slipnslider__next",i.nextBtn.type="button",i.nextBtn.innerHTML=0===o.length?'<span class="is-visually-hidden">next</span>':o,s.appendChild(i.prevBtn),s.appendChild(i.nextBtn),e.appendChild(s)},f=function(){if(!(i.isEnabled||(i.isEnabled=!0,window.addEventListener("resize",g,!1),i.dotsCount<=1))){if(i.hasControlsOverride&&(i.nextBtn.addEventListener("click",j,!1),i.prevBtn.addEventListener("click",X,!1)),i.hasDotNavOverride)for(var e=0,t=i.navDots.length;e<t;e++)i.navDots[e].addEventListener("click",P,!1);i.stage.addEventListener(i.pressStart,k,!1),i.stage.addEventListener("click",h,!1),window.addEventListener(i.pressMove,D,!1),window.addEventListener(i.pressEnd,E,!1),i.isMobileDevice||window.addEventListener("keydown",b,!1)}},u=function(){if(i.isEnabled){if(i.isEnabled=!1,i.hasControlsOverride&&(i.nextBtn.removeEventListener("click",j,!1),i.prevBtn.removeEventListener("click",X,!1)),i.hasDotNavOverride)for(var e=0,t=i.navDots.length;e<t;e++)i.navDots[e].removeEventListener("click",P,!1);i.stage.removeEventListener(i.pressStart,k,!1),i.stage.removeEventListener("click",h,!1),window.removeEventListener(i.pressMove,D,!1),window.removeEventListener(i.pressEnd,E,!1),window.removeEventListener("resize",g,!1),i.isMobileDevice||window.removeEventListener("keydown",b,!1),p()}},p=function(){if(i.hasControlsOverride&&i.prevBtn.parentElement.parentElement.removeChild(i.prevBtn.parentElement),i.dotNav.parentElement.removeChild(i.dotNav),i.isInfiniteOverride){for(var e=i.slidesPerPage+1,t=i.total-1,n=i.total-1-e;t>n;t--)i.stage.removeChild(i.slides[t]);for(var r=0;r<e;r++)i.stage.removeChild(i.slides[0]);i.total-=2*e}for(var o=0;o<i.total;o++)i.slides[0].style.width="100%",i.slides[0].style.marginLeft="0",i.slider.appendChild(i.slides[0]);i.slider.removeChild(i.stage),i.slider.display="none"},h=function(e){i.wasDragged&&e.preventDefault(),i.wasDragged=!1},g=function(e){if(x(),0!==i.breakpoints.length){var t=i.breakpoints.indexOf(i.currentBreakpoint),n=window.innerWidth;n>=i.breakpoints[t+1]?(i.currentBreakpoint=i.breakpoints[t+1],m()):t>0&&n<i.breakpoints[t]&&(i.currentBreakpoint=i.breakpoints[t-1],m())}},m=function(){i.activeSlideIndex=i.activeDotIndex=0,u(),s(),d(),l(),v(),c(),a(),x(),S(),L(),C(),f()},x=function(){B();var e=(i.total-1)*i.slidePadding;i.slideWidth=Math.ceil((i.slider.offsetWidth-i.slidePadding*(i.slidesPerPage-1))/i.slidesPerPage);var t=i.total*i.slideWidth+e;i.stage.style.width=t+"px",i.dragThreshold=i.slider.offsetWidth/4,i.slideBy=i.slideWidth+i.slidePadding;for(var n=0,r=i.slides.length;n<r;n++)i.slides[n].style.width=i.slideWidth+"px",i.slides[n].style.marginLeft=i.slidePadding+"px";S(),L()},y=function(e,t){i.isTransitioning||(w(),e?i.nextNavigationCallback(e):i.prevNavigationCallback(e),e&&W()?(i.activeDotIndex=0,i.isInfiniteOverride?i.activeSlideIndex++:i.activeSlideIndex=0):!e&&M()?(i.activeDotIndex=i.dotsCount-1,i.isInfiniteOverride?i.activeSlideIndex--:i.activeSlideIndex=i.dotsCount-1):e?(i.activeSlideIndex++,i.activeDotIndex++):(i.activeSlideIndex--,i.activeDotIndex--),S())},b=function(e){"body"===e.srcElement.localName&&(37===event.keyCode?y(!1):39===e.keyCode&&y(!0))},P=function(e){if(e.preventDefault(),!i.isTransitioning){var t=Array.prototype.indexOf.call(i.navDots,e.currentTarget);t!==i.activeDotIndex&&(i.dotClickCallback(i.activeDotIndex,t),w(),i.activeDotIndex=i.activeSlideIndex=t,i.isInfiniteOverride&&(i.activeSlideIndex+=i.slidesPerPage+1),S())}},k=function(e){if(!i.isTransitioning){B(),i.isDragging=!0;var t=i.isAndroid?e.touches[0]:e;i.isMobileDevice&&(i.brokeHorizontalThreshold=!1,i.curYPos=t.pageY),i.startpoint=t.pageX}},D=function(e){if(!i.isTransitioning&&i.isDragging){var t=i.isAndroid?e.changedTouches[0]:e;if(i.wasDragged=!0,i.isMobileDevice){var n=Math.abs(i.curYPos-t.pageY),r=Math.abs(i.startpoint-t.pageX);if(r>20&&(i.brokeHorizontalThreshold=!0,e.preventDefault()),!i.brokeHorizontalThreshold&&r<=20&&n>=10&&n>r)return i.isDragging=!1,i.stage.style[i.transitionPrefix]="all .75s",void S()}var o=-1*(i.activeSlideIndex*i.slideWidth+i.slidePadding*i.activeSlideIndex)-.7*(i.startpoint-t.pageX);i.isInfiniteOverride||(o>=i.slider.offsetWidth/4?o=i.slider.offsetWidth/4:o<=-i.stage.offsetWidth+.75*i.slider.offsetWidth&&(o=-i.stage.offsetWidth+.75*i.slider.offsetWidth)),i.stage.style[i.transformPrefix]="translate3d("+o+"px, 0, 0)"}},E=function(e){if(i.isDragging){i.isDragging=!1,i.stage.style[i.transitionPrefix]="all .75s";var t=i.isAndroid?e.changedTouches[0]:e,n=void 0!==e?i.startpoint-t.pageX:0;Math.abs(n)>=i.dragThreshold?i.isInfiniteOverride?y(n>0):n<0&&!M()?y(!1):n>0&&!W()?y(!0):S():S()}},w=function(){i.isTransitioning=!0},I=function(){i.isTransitioning=!1,i.isInfiniteOverride&&T()},C=function(e){i.transitionEndPrefix&&i.stage.addEventListener(i.transitionEndPrefix,function(e,t){t&&t(),I()},!1)},S=function(){var e=i.activeSlideIndex*i.slideBy;i.stage.style[i.transformPrefix]="translate3d(-"+e+"px,0,0)",i.hasDotNavOverride&&(i.activeDot.className="",i.activeDot=i.navDots[i.activeDotIndex],i.activeDot.className=i.dotIsActive)},T=function(){i.activeDotIndex>0&&i.activeSlideIndex<=i.slidesPerPage?N(!0):0===i.activeDotIndex&&i.activeSlideIndex>=i.total-i.slidesPerPage-1&&N(!1)},N=function(e){var t=i.slidesPerPage+1;i.activeSlideIndex=e?i.total-t-1:t,B(),S(),L()},O=function(e){return i.slider===e?e:e.classList?e:document.querySelector(e)},B=function(){i.stage.style[i.transitionPrefix]="all 0s"},L=function(){setTimeout(function(){i.stage.style[i.transitionPrefix]="all .75s"},1)},M=function(){return 0===i.activeDotIndex},W=function(){return i.activeDotIndex===i.dotsCount-1},_=function(){var e=void 0,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},A=function(){var e=void 0,t=document.createElement("fakeelement"),n={transition:"transition",OTransition:"oTransition",MozTransition:"transition",WebkitTransition:"webkitTransition"};for(e in n)if(void 0!==t.style[e])return n[e]},z=function(){var e=void 0,t=document.createElement("fakeelement"),n={transform:"transform",OTransform:"oTransform",MozTransform:"mozTransform",WebkitTransform:"webkitTransform"};for(e in n)if(void 0!==t.style[e])return n[e]},H=function(){var e=void 0,t=void 0,n=void 0;"ontouchstart"in window?(e="touchstart",t="touchend",n="touchmove",i.isMobileDevice=!0,navigator.userAgent.match(/Android/i)&&(i.isAndroid=!0)):window.PointerEvent?(e="pointerdown",t="pointerup",n="pointermove"):window.MSPointerEvent?(e="MSPointerDown",t="MSPointerUp",n="MSPointerMove"):(e="mousedown",t="mouseup",n="mousemove"),i.pressStart=e,i.pressEnd=t,i.pressMove=n},Y=function(){i.transitionEndPrefix=_(),i.transitionPrefix=A(),i.transformPrefix=z()},j=y.bind(null,!0),X=y.bind(null,!1);return{init:function(){i.slider?(Y(),H(),r(),o(),d(),l(),v(),c(),a(),x(),S(),L(),C(),f()):console.warn("Slider element is not found or parameter is missing.\nSlipnSlider initialization aborted.")},enable:f,disable:u}}});